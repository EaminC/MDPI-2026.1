# 一键编译脚本使用说明

## 脚本文件

项目提供了三个编译脚本：

1. **`compile.sh`** - macOS/Linux 一键编译脚本（静默模式，推荐）
2. **`compile_verbose.sh`** - macOS/Linux 详细输出版本（显示所有编译信息，便于调试）
3. **`compile.bat`** - Windows 一键编译脚本

## 使用方法

### macOS/Linux

**方式一：使用静默模式（推荐）**
```bash
./compile.sh
```

**方式二：使用详细模式（调试时使用）**
```bash
./compile_verbose.sh
```

**方式三：直接运行（如果脚本没有执行权限）**
```bash
bash compile.sh
# 或
bash compile_verbose.sh
```

### Windows

双击 `compile.bat` 文件，或在命令提示符中运行：
```cmd
compile.bat
```

## 编译流程

脚本会自动执行以下步骤：

1. **第一次 pdflatex 编译** - 生成 `.aux` 文件
2. **运行 BibTeX** - 处理参考文献，生成 `.bbl` 文件
3. **第二次 pdflatex 编译** - 处理引用和交叉引用
4. **第三次 pdflatex 编译** - 确保所有交叉引用和引用都正确

## 输出文件

编译完成后会生成：
- `main.pdf` - 最终的 PDF 文档

脚本会自动清理临时文件（`.aux`, `.bbl`, `.blg`, `.log` 等）。

## 手动编译（如果需要）

如果脚本无法运行，可以手动执行：

```bash
pdflatex main.tex
bibtex main
pdflatex main.tex
pdflatex main.tex
```

## 故障排除

### 如果编译失败

1. **使用详细模式**：运行 `./compile_verbose.sh` 查看详细错误信息
2. **检查 LaTeX 安装**：确保已安装完整的 LaTeX 发行版（如 MacTeX、TeX Live）
3. **检查文件路径**：确保所有文件都在正确的位置
4. **查看日志文件**：检查 `main.log` 文件中的错误信息

### 常见问题

- **找不到 pdflatex**：需要安装 LaTeX 发行版
- **BibTeX 警告**：如果 `.bib` 文件为空或没有引用，这是正常的
- **权限问题**：使用 `chmod +x compile.sh` 添加执行权限

## 提示

- 首次编译可能需要较长时间
- 如果只修改了文本内容（没有添加新引用），可以只运行一次 `pdflatex main.tex`
- 如果添加了新的引用，需要运行完整的编译流程
